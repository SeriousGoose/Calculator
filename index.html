<!DOCTYPE HTML>
<html>

<head>
    <link rel="preconnect" href="https://fonts.gstatic.com">
<link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@500&display=swap" rel="stylesheet">
    <style>
        
        html{
            font-family: 'Orbitron', sans-serif;
        }
        #body{
            background-color: rgb(86, 109, 109);
            
        }
        #title{
            display:flex;
            justify-content: center;
            color: whitesmoke
        }
        #calculator {
            display: flex;
            justify-content: center;
            align-items: center;
            font-size: 30px;
        }

        #container {
            background-color:rgb(61, 59, 59);
            border-radius: 15px;
            padding: 5px;
            box-shadow: 5px 10px 15px black;


        }

        .buttons {
            display: flex;
            justify-content: center;
            align-items: center;
            border-radius: 25px;
            margin: 5px;
            background-color: rgba(0, 0, 0, 0.616);
            color:whitesmoke;
            
        }

        .buttons:hover {
            background-color: red;
            box-shadow: 12px 12px 7px rgba(0,0,0,0.5);
        }

        .operators {
            background-color: orange;
        }

        #equals{
            background-color: orange;
        }
        #equals:hover{
            background-color: green;
        }

        #buttons {
            width: 500px;
            height: 600px;
            display: grid;

            border-radius: 15px;
            grid-template-areas:
                "clear back percent divide"
                "seven eight nine multiply"
                "four five six subtract"
                "one two three add"
                "zero zero decimal equals"
        }
        #screen{
            background-color: rgba(0, 0, 0, 0.616);
            width: 100%;
            border-radius: 15px;
        }

        #display {
            display: flex;
            justify-content: flex-end;
            align-items: center;
            background-color:rgb(61, 59, 59);
            color: whitesmoke;
            border-radius: 15px 15px 0px 0px;
            margin-bottom: 5px;
            height: 100px;
            border-bottom: 1px solid whitesmoke;
            padding-right: 15px;
            padding-left:15px;
            font-size: 50px;
        }
        #input{
            display:flex;
            justify-content: flex-end;
            padding-right: 30px;
        }

        #clear {
            grid-area: clear;
        }

        #percent {
            grid-area: percent;
        }

        #zero {
            grid-area: zero;
        }
    </style>

</head>
<body id = "body">
    <h1 id = "title">Baby's First Calculator</h1>
<div id="calculator">
    
    <div id="container">
        <div id="display">
            <div id = "screen">
                <div id="input"> 0</div>
            </div>
        </div>
        <div id="buttons">

            <div id="clear" class="buttons">AC</div>
            <div id ="backspace" class ="buttons"><-</div>
            <div id="percent" class="buttons">%</div>
            <div id="divide" class="buttons operators">/</div>
            <div id="seven" class="buttons numbers">7</div>
            <div id="eight" class="buttons numbers">8</div>
            <div id="nine" class="buttons numbers">9</div>
            <div id="multiply" class="buttons operators">x</div>
            <div id="four" class="buttons numbers">4</div>
            <div id="five" class="buttons numbers">5</div>
            <div id="six" class="buttons numbers">6</div>
            <div id="subtract" class="buttons operators">-</div>
            <div id="one" class="buttons numbers">1</div>
            <div id="two" class="buttons numbers">2</div>
            <div id="three" class="buttons numbers">3</div>
            <div id="add" class="buttons operators">+</div>
            <div id="zero" class="buttons numbers">0</div>
            <div id="decimal" class="buttons numbers">.</div>
            <div id="equals" class="buttons">=</div>
        </div>


    </div>

    <script>
       
        
        let display = document.getElementById("input");
        let backspace = document.getElementById('backspace');
        let numbers = document.getElementsByClassName('numbers')
        let buttons = document.getElementsByClassName("buttons")
        let operators = document.getElementsByClassName("operators")
        let clear = document.getElementById('clear')
        let percent = document.getElementById('percent')
        let seven = document.getElementById("seven")
        let eight = document.getElementById("eight")
        let nine = document.getElementById("nine")
        let four = document.getElementById("four")
        let five = document.getElementById('five')
        let six = document.getElementById('six')
        let one = document.getElementById('one')
        let two = document.getElementById('two')
        let three = document.getElementById('three')
        let zero = document.getElementById('zero')
        let decimal = document.getElementById('decimal')
        let divide = document.getElementById('divide')
        let multiply = document.getElementById('multiply')
        let add = document.getElementById('add')
        let subtract = document.getElementById('subtract')

        
       
        
        
        clear.addEventListener('click',() =>{
            clearAll();
        })

        seven.addEventListener('click', () => {
            x = x + '7';
        })
        eight.addEventListener('click', () => {
            x = x + '8';
        })
        nine.addEventListener('click', () => {
            x = x + '9';
        })
        four.addEventListener('click', () => {
            x = x + '4';
        })
        five.addEventListener('click', () => {
            x = x + '5';
        })
        six.addEventListener('click', () => {
            x = x + '6';
        })
        one.addEventListener('click', () => {
            x = x + '1';
        })
        two.addEventListener('click', () => {
            x = x + '2';
        })
        three.addEventListener('click', () => {
            x = x + '3';
        })
        zero.addEventListener('click', () => {
            x = x + '0';
        })
        backspace.addEventListener('click', () => {//allows user to erase most recent input
            x = x.split('')
            let remvoe = x.splice(-1);
            x = x.join('')
            display.innerHTML = x;
        })
        decimal.addEventListener('click', () => {
            if ( hasDecimal == false  ){//checks if current number has decimal place
                x = x + '.';
            hasDecimal = true}
        })


        function addition() {//converts string of values from x & y to floats then executes function
            x = parseFloat(x)
            y = parseFloat(y);
            return x + y;
        }


        function subtraction() {
            x = parseFloat(x)
            y = parseFloat(y);
            return y - x;
        }

        function division() {
            x = parseFloat(x)
            y = parseFloat(y);
            if (x == 0 || y == 0){ // checks if either variable = 0 before executing function
                return 0;
            }
            else{
            return y / x;
            }
        }

        function multiplication() {
            x = parseFloat(x)
            y = parseFloat(y);
            return x * y;

        }
        function percentage() {
            x = parseFloat(x)
            x =  x / 100;
            display.innerHTML = x;
            hasDecimal = true;
        }

        let x = '';
        let y = '';
        let operation = ''
        let final = ''
        let hasDecimal = false
        function modifyText(){//changes text on calculator display to current or final value
            display.innerHTML = x;
        }
        function modifyOperation(){//changes text o ncalculato display to current operation
            display.innerHTML = operation;
        }
        function secondNumber(){//following operation or equals sets value of y to either final or x. Freeing x to take the next value to add to operation
            if (final != ''){
                y = final;
                x = '';
                final = '';
                hasDecimal = false
            }
            else{
            y = x;
            x = ""
            hasDecimal = false;
            }
        }
        function clearAll(){//clears all program variables and resets calculator
            x = '';
            y = '';
            final = '';
            operation = '';
            display.innerHTML = 0;
            hasDecimal = false;
        }

        for (i=0; i < numbers.length; i++){//adds event listeners to all buttons to update the text on the calculator display
        numbers[i].addEventListener('click', ()=>{
            modifyText();
        })}
        
         multiply.addEventListener('click', ()=>{
             
            if (final != ''){//Allows user to use result of previous calculation
                if (x != "" && y != ""){
                operate();
                operation = '*'
                modifyOperation();
                display.html = final;
                }
                else if(x == '' && y == ''){
                    x= final;
                    final = '';
                    operation = '*'
                    modifyOperation()

                }
                else{
                    x=final;
                    operation = '*'
                    final = ''
                }
            }
            else if (x != "" && y != ""){//tells calculator to operate on current x&y variables before changing operation
                operate();
                operation = '*'
                modifyOperation();
                display.html = final;
            }
            else{//sets operation
                operation = '*'
            modifyOperation();
            }
            
        })
        
        divide.addEventListener('click', ()=>{
            
            if (final != ''){
                if (x != "" && y != ""){
                operate();
                operation = '/'
                modifyOperation();
                display.html = final;
                }
                else if(x == '' && y == ''){
                    x= final;
                    final = '';
                    operation = '/'
                    modifyOperation()

                }
                else{
                    x=final;
                    operation = '/'
                    final = ''
                }
            }
            else if (x != "" && y != ""){
                operate();
                operation = '/'
                modifyOperation();
                display.html = final;
            }
            else{
                operation = '/'
            modifyOperation();
            }
            
        })
        add.addEventListener('click', ()=>{
            if (final != ''){
                if (x != "" && y != ""){
                operation = '+'
                operate();
                modifyOperation();
                display.html = final;
                }
                else if(x == '' && y == ''){
                    x= final;
                    final = '';
                    operation = '+'
                    modifyOperation()

                }
                else{
                    x=final;
                    operation = '+'
                    final = ''
                }
                
            }
            else if (x != "" && y != ""){
                operate();
                operation = '+'
                modifyOperation();
                display.html = final;
            }
            else{
                operation = '+'
            modifyOperation();
            }
        })
        subtract.addEventListener('click', ()=>{
            if (final != ''){
                if (x != "" && y != ""){
                operate();
                operation = '-'
                modifyOperation();
                display.html = final;
                }
                else if(x == '' && y == ''){
                    x = final;
                    final = '';
                    operation = '-'
                    modifyOperation()

                }
                else{
                    x=final;
                    operation = '-'
                    final = ''
                }
            }
            else if (x != "" && y != ""){
                operate();
                operation = '-'
                modifyOperation();
                display.html = final;
            }
            else{
                operation = '-'
            modifyOperation();
            }
        })
        percent.addEventListener('click', ()=>{
            percentage();
        })

        for (i=0; i < operators.length; i++){//adds event listeners to operaters to trigger secondNumber function
        operators[i].addEventListener('click', ()=>{
            secondNumber();
        })}
       

        

        function operate(){//executes selected function based on operator against current x & y variables
            if (y === '' && x === '' ){
                display.innerHTML = '0';
            }
            else if (y === ''){
                display.innerHTML = x;
            }
            else{
            
            if (operation === '*'){
                final = multiplication();
            }
            else if (operation === '/'){
                final = division();
            }
            else if (operation === '+'){
                final = addition();
            }
            else if (operation === '-'){
                final = subtraction();
            }
            final = Math.round(1000*final)/1000//rounds final result to thousandths place
            display.innerHTML = final;
            
        }
            
        }

        

        equals.addEventListener('click', ()=>{//executes operation function and resets variables
            operate();
            x = '';
            y = '';
            operation = ''
            hasDecimal = false
            
        })
        
        
    </script>
    </div>
</body>

</html>